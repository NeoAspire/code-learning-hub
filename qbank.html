<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question Bank</title>
    <!-- Main CSS -->
    <link rel="stylesheet" href="css/main.css">
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/favicon/favicon.png">
    <!-- Link to external JS for layout (e.g., hamburger menu) -->
    <script src="js/base.js"></script>
</head>

<body>
    <!-- Header -->
    <header id="header-container">
        <!-- Header content will be loaded here -->
    </header>

    <!-- Main -->
    <main>

        <!-- Hero Section -->
        <section class="hero">
            <h2>QUESTION BANK</h2>
            <p>Select class and subject to download PDF</p>
        </section>

        <!-- QBANK SECTION -->
        <section class="qbank-section">

            <!-- IT (402) -->
            <div class="subject-card">
                <div class="dropdown">
                    <button class="dropbtn">Class 10 IT (402)</button>
                    <div class="dropdown-content">
                        <a href="https://drive.google.com/file/d/14l49gQ7u0_KnVARCj_PvASdl31eYGTBw/view?usp=drive_link"
                            target="_blank">Employability Skills Part A</a>
                        <a href="https://drive.google.com/file/d/16DvLVTvYUkuVHnrIpceloz721Lcx67m4/view?usp=drive_link"
                            target="_blank">Information Technology Part B </a>
                    </div>
                </div>
            </div>

            <!-- Maths (041) -->
            <div class="subject-card">
                <div class="dropdown">
                    <button class="dropbtn">Class 10 Maths</button>
                    <div class="dropdown-content">
                        <a href="#">Coming Soon!</a>
                    </div>
                </div>
            </div>

            <!-- Science (086) -->
            <div class="subject-card">
                <div class="dropdown">
                    <button class="dropbtn">Class 10 Science</button>
                    <div class="dropdown-content">
                        <a href="#" id="openPdf">ðŸ”’ Study Material Preview</a>
                    </div>
                </div>
            </div>

            <!-- Full-screen PDF modal -->
            <div id="pdfModal" class="modal">
                <span class="close">&times;</span>
                <iframe id="pdfPreview" src="" frameborder="0"></iframe>
                <div id="payment-section" style="display:none;">
                    <p>To download the full PDF, please pay first:</p>
                    <!-- New: Separate download link after payment -->
                    <button id="payButton">Pay & Download</button>
                </div>
            </div>


        </section>

    </main>

    <!-- Footer -->
    <footer id="footer-container">
        <!-- Footer content will be loaded here -->
    </footer>

    <script>
        // Open PDF in modal
        document.getElementById('openPdf').addEventListener('click', function (e) {
            e.preventDefault();
            document.getElementById('pdfModal').style.display = 'block';

            // Load PDF preview (Google Drive preview link)
            document.getElementById('pdfPreview').src =
                'https://drive.google.com/file/d/1ewjLACYduPLHiBuETmgVta7rt_MvQG0x/preview';

            // Show payment prompt after 2 seconds
            setTimeout(function () {
                document.getElementById('payment-section').style.display = 'block';
            }, 2000);
        });

        // Payment & download functionality
        document.getElementById('payButton').addEventListener('click', function () {
            
            // Step 1: Redirect to payment gateway
            let paymentLink = 'secrets/payments.html'; // Replace with Razorpay, PayPal, etc.
            window.open(paymentLink, '_blank');

            // Step 2: After payment, allow download (simulated here)
            // You can replace this with a server-side confirmation in real apps
            setTimeout(function () {
                // Full PDF download link (different from preview)
                let fullPdfLink = 'https://drive.google.com/uc?export=download&id=YOUR_FULL_PDF_FILE_ID';
                window.open(fullPdfLink, '_blank');
            }, 5000); // 5 seconds delay to simulate payment completion
        });

        // Close modal
        document.querySelector('.close').addEventListener('click', function () {
            document.getElementById('pdfModal').style.display = 'none';
        });

        // Close modal if clicked outside iframe
        window.onclick = function (event) {
            if (event.target == document.getElementById('pdfModal')) {
                document.getElementById('pdfModal').style.display = 'none';
            }
        }

    </script>

</body>

</html>